<div class="min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4">
  <div class="w-full max-w-2xl">
    <p-card [style]="{'box-shadow': '0 1px 3px rgba(0,0,0,0.1)', 'border-radius': '8px'}">
      <ng-template pTemplate="header">
        <div class="bg-gradient-to-r from-teal-500 to-teal-600 text-white p-4 rounded-t-lg">
          <h2 class="text-2xl font-bold m-0">Editar Pago</h2>
        </div>
      </ng-template>

      <div *ngIf="!loading" class="p-6">
        <form [formGroup]="form" (ngSubmit)="submit()">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <!-- Reservation -->
            <div class="flex flex-col">
              <label for="reservation_id" class="block text-sm font-semibold text-gray-700 mb-2">Reserva</label>
              <p-select
                id="reservation_id"
                [options]="reservations"
                formControlName="reservation_id"
                optionLabel="id"
                optionValue="id"
                placeholder="Seleccione una reserva"
                [style]="{'width': '100%'}"
              ></p-select>
              <small class="text-red-500 mt-1" *ngIf="getFieldError('reservation_id')">{{ getFieldError('reservation_id') }}</small>
            </div>

            <!-- Amount -->
            <div class="flex flex-col">
              <label for="amount" class="block text-sm font-semibold text-gray-700 mb-2">Monto</label>
              <p-inputNumber
                id="amount"
                formControlName="amount"
                mode="currency"
                currency="USD"
                locale="en-US"
              ></p-inputNumber>
              <small class="text-red-500 mt-1" *ngIf="getFieldError('amount')">{{ getFieldError('amount') }}</small>
            </div>

            <!-- Payment Method -->
            <div class="flex flex-col">
              <label for="method" class="block text-sm font-semibold text-gray-700 mb-2">Método de Pago</label>
              <p-select
                id="method"
                [options]="paymentMethods"
                formControlName="method"
                placeholder="Seleccione un método"
                [style]="{'width': '100%'}"
              ></p-select>
              <small class="text-red-500 mt-1" *ngIf="getFieldError('method')">{{ getFieldError('method') }}</small>
            </div>

            <!-- Payment Date -->
            <div class="flex flex-col">
              <label for="payment_date" class="block text-sm font-semibold text-gray-700 mb-2">Fecha de Pago</label>
              <p-datepicker
                id="payment_date"
                formControlName="payment_date"
                [showIcon]="true"
                dateFormat="dd/mm/yy"
              ></p-datepicker>
              <small class="text-red-500 mt-1" *ngIf="getFieldError('payment_date')">{{ getFieldError('payment_date') }}</small>
            </div>

            <!-- Reference -->
            <div class="flex flex-col md:col-span-2">
              <label for="reference" class="block text-sm font-semibold text-gray-700 mb-2">Referencia</label>
              <input id="reference" type="text" pInputText formControlName="reference" placeholder="Ingrese la referencia del pago" />
              <small class="text-red-500 mt-1" *ngIf="getFieldError('reference')">{{ getFieldError('reference') }}</small>
            </div>
          </div>
        </form>
      </div>

      <div *ngIf="loading" class="p-6 flex justify-center items-center">
        <i class="pi pi-spin pi-spinner" style="font-size: 2.5rem; color: #14b8a6;"></i>
      </div>

      <ng-template pTemplate="footer">
        <div class="flex justify-end gap-3 pt-4 border-t border-gray-200">
          <p-button
            label="Cancelar"
            severity="secondary"
            (click)="cancel()"
          ></p-button>
          <p-button
            label="Guardar Cambios"
            (click)="submit()"
            [loading]="loading"
          ></p-button>
        </div>
      </ng-template>
    </p-card>
  </div>
</div>
<p-toast></p-toast>