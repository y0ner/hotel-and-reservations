<div class="container">
  <p-toast></p-toast>
  <p-confirmDialog></p-confirmDialog>

  <div class="card">
    <p-table
      #dt
      [value]="services"
      [loading]="loading"
      [paginator]="true"
      [rows]="10"
      [rowsPerPageOptions]="[10, 25, 50]"
      [globalFilterFields]="['name', 'description', 'price']"
      responsiveLayout="scroll"
    >
      <ng-template pTemplate="caption">
        <div class="table-header">
          <h2 class="table-title">Servicios</h2>
          <div class="table-actions">
            <button
              pButton
              pRipple
              label="Crear"
              icon="pi pi-plus"
              class="p-button-success"
              routerLink="/Servicio/create"
            ></button>
          </div>
        </div>
      </ng-template>

      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="name">Nombre <p-sortIcon field="name"></p-sortIcon></th>
          <th pSortableColumn="description">Descripci√≥n <p-sortIcon field="description"></p-sortIcon></th>
          <th pSortableColumn="price">Precio <p-sortIcon field="price"></p-sortIcon></th>
          <th>Acciones</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-service>
        <tr>
          <td>{{ service.name }}</td>
          <td>{{ service.description }}</td>
          <td>{{ service.price | currency:'USD' }}</td>
          <td>
            <div class="action-buttons">
              <button
                pButton
                pRipple
                icon="pi pi-pencil"
                class="p-button-rounded p-button-warning"
                [routerLink]="['/Servicio/update', service.id]"
                pTooltip="Editar"
                tooltipPosition="top"
              ></button>
              <button
                pButton
                pRipple
                icon="pi pi-trash"
                class="p-button-rounded p-button-danger"
                (click)="confirmDelete(service)"
                pTooltip="Eliminar"
                tooltipPosition="top"
              ></button>
            </div>
          </td>
        </tr>
      </ng-template>

      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="4" class="text-center">No se encontraron servicios.</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>